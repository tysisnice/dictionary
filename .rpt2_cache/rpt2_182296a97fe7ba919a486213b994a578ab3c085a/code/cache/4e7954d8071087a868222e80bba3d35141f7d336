{"code":"import { writable } from 'svelte/store';\r\nimport idb from './idb';\r\nvar WordEntry = /** @class */ (function () {\r\n    function WordEntry(obj) {\r\n        if (obj === void 0) { obj = {}; }\r\n        this.word = \"\";\r\n        this.clarifyer = \"\";\r\n        this.language = \"no lang\";\r\n        this.otherWords = [];\r\n        this.lastEdited = \"original\";\r\n        this.word = obj.word || '';\r\n        this.clarifyer = obj.clarifyer || '';\r\n        this.language = obj.language || 'no lang';\r\n        this._id = obj._id || '_id-' + Math.random();\r\n    }\r\n    WordEntry.prototype.addOtherWord = function (word) {\r\n        this.otherWords.push(word);\r\n    };\r\n    return WordEntry;\r\n}());\r\nexport { WordEntry };\r\nvar IEntries = /** @class */ (function () {\r\n    function IEntries() {\r\n        this.primary = [];\r\n        this.secondary = [];\r\n    }\r\n    return IEntries;\r\n}());\r\nexport { IEntries };\r\nvar ILangOptions = /** @class */ (function () {\r\n    function ILangOptions() {\r\n        this.primary = 'english';\r\n        this.secondary = 'mien';\r\n        this.selected = 'primary';\r\n    }\r\n    return ILangOptions;\r\n}());\r\nexport { ILangOptions };\r\nvar IAlphabet = /** @class */ (function () {\r\n    function IAlphabet() {\r\n        this.primary = 'abcdefghijklmnopqrstuvwxyz';\r\n        this.secondary = 'abcdefghijklmnopqrstuvwxyz';\r\n    }\r\n    return IAlphabet;\r\n}());\r\nexport { IAlphabet };\r\nvar DictionaryState = /** @class */ (function () {\r\n    function DictionaryState() {\r\n        this.entries = new IEntries();\r\n        this.language = new ILangOptions();\r\n        this.alphabet = new IAlphabet();\r\n        this.stocked = false;\r\n    }\r\n    return DictionaryState;\r\n}());\r\nexport { DictionaryState };\r\nexport var entries = writable(new IEntries());\r\nexport var language = writable(new ILangOptions());\r\nexport var alphabet = writable(new IAlphabet());\r\nexport var stocked = writable(false);\r\nvar IDB_LANGUAGE = 'DICTIONARY-language';\r\nexport function changeLanguage(lang) {\r\n    if (lang === void 0) { lang = null; }\r\n    language.update(function (state) {\r\n        if (lang === 'primary' || lang === 'secondary') {\r\n            state.selected = lang;\r\n        }\r\n        else {\r\n            state.selected = state.selected === 'secondary' ? 'primary' : 'secondary';\r\n        }\r\n        idb.set(IDB_LANGUAGE, state);\r\n        return state;\r\n    });\r\n}\r\nexport function updateDictionaryData(newState) {\r\n    if (newState === void 0) { newState = new DictionaryState(); }\r\n    entries.set(newState.entries);\r\n    language.set(newState.language);\r\n    alphabet.set(newState.alphabet);\r\n    stocked.set(true);\r\n}\r\nidb.get(IDB_LANGUAGE)\r\n    .then(function (data) { return data && language.set(data); });\r\n","references":["C:/Users/tysis/OneDrive/Documents/GitHub/dictionary/node_modules/svelte/store/index.d.ts","C:/Users/tysis/OneDrive/Documents/GitHub/dictionary/src/store/idb.ts"]}
