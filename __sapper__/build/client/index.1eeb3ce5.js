import{S as e,i as r,s,e as a,t,c as n,b as c,d as l,f as h,g as u,h as o,j as f,k as i,y as p,m as $,p as y,q as d,r as v,a as m,l as g,J as S,E as B,u as Q,D as x,O as I}from"./index.0914f1d2.js";import{l as b}from"./index.42551f14.js";import{W as j}from"./WordCard.a1abf7fb.js";function E(e){var r,s;return{c(){r=a("div"),s=t("⚲"),this.h()},l(e){r=n(e,"DIV",{class:!0},!1);var a=c(r);s=l(a,"⚲"),a.forEach(h),this.h()},h(){u(r,"class","search-icon svelte-19kiufp")},m(e,a){o(e,r,a),f(r,s)},p:i,i:i,o:i,d(e){e&&h(r)}}}class D extends e{constructor(e){super(),r(this,e,null,E,s,[])}}function k(e,r,s){const a=Object.create(e);return a.entry=r[s].entry,a.open=r[s].open,a.index=s,a}function w(e,r){var s,a,t=new j({props:{open:r.open,entry:r.entry}});return{key:e,first:null,c(){s=p(),t.$$.fragment.c(),this.h()},l(e){s=p(),t.$$.fragment.l(e),this.h()},h(){this.first=s},m(e,r){o(e,s,r),$(t,e,r),a=!0},p(e,r){var s={};e.$resultsBySearch&&(s.open=r.open),e.$resultsBySearch&&(s.entry=r.entry),t.$set(s)},i(e){a||(y(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){e&&h(s),v(t,e)}}}function M(e){var r,s,t,i,Q,b,j,E,M,V=[],A=new Map,N=new D({}),O=e.$resultsBySearch.getAllMatches();const W=e=>e.entry._id;for(var q=0;q<O.length;q+=1){let r=k(e,O,q),s=W(r);A.set(s,V[q]=w(s,r))}return{c(){for(r=m(),s=a("div"),t=a("input"),i=m(),Q=a("div"),N.$$.fragment.c(),b=m(),q=0;q<V.length;q+=1)V[q].c();j=p(),this.h()},l(e){r=l(e,"\r\n\r\n\r\n\r\n"),s=n(e,"DIV",{class:!0},!1);var a=c(s);t=n(a,"INPUT",{type:!0,value:!0,class:!0},!1),c(t).forEach(h),i=l(a,"\r\n  "),Q=n(a,"DIV",{class:!0},!1);var u=c(Q);for(N.$$.fragment.l(u),u.forEach(h),a.forEach(h),b=l(e,"\r\n\r\n"),q=0;q<V.length;q+=1)V[q].l(e);j=p(),this.h()},h(){document.title="Search",u(t,"type","text"),t.value=e.$searchQuery,u(t,"class","svelte-1s8v1c4"),u(Q,"class","svelte-1s8v1c4"),u(s,"class","search-bar svelte-1s8v1c4"),M=g(t,"input",e.handleInput)},m(e,a){for(o(e,r,a),o(e,s,a),f(s,t),f(s,i),f(s,Q),$(N,Q,null),o(e,b,a),q=0;q<V.length;q+=1)V[q].m(e,a);o(e,j,a),E=!0},p(e,r){E&&!e.$searchQuery||(t.value=r.$searchQuery);const s=r.$resultsBySearch.getAllMatches();x(),V=S(V,e,W,1,r,s,A,j.parentNode,I,w,j,k),B()},i(e){if(!E){y(N.$$.fragment,e);for(var r=0;r<O.length;r+=1)y(V[r]);E=!0}},o(e){for(d(N.$$.fragment,e),q=0;q<V.length;q+=1)d(V[q]);E=!1},d(e){for(e&&(h(r),h(s)),v(N),e&&h(b),q=0;q<V.length;q+=1)V[q].d(e);e&&h(j),M()}}}function V(e,r,s){let a,t;const{searchQuery:n,resultsBySearch:c,updateSearchQuery:l}=b;Q(e,n,e=>{a=e,s("$searchQuery",a)}),Q(e,c,e=>{t=e,s("$resultsBySearch",t)});return{searchQuery:n,resultsBySearch:c,handleInput:({target:e})=>l(e.value),$searchQuery:a,$resultsBySearch:t}}export default class extends e{constructor(e){super(),r(this,e,V,M,s,[])}}
